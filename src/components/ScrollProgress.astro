<div class="track" aria-hidden="true">
  <div class="progress"></div>
</div>

<style>
  .track {
    position: fixed;
    right: 2rem;
    top: 50%;
    translate: 0 -50%;
    height: 50vh;
    width: 2px;
    background: #666;
  }

  .progress {
    height: 100%;
    background: #fff;
  }
</style>

<script>
  const progress = document.querySelector<HTMLDivElement>('.progress');

  function updateScroll() {
    const maxScroll = document.body.scrollHeight - window.innerHeight;
    const progressRatio = Math.min(Math.max(window.scrollY / maxScroll, 0), 1);

    if (progress) {
      progress.style.transform = `scaleY(${progressRatio})`;
    }
  }

  updateScroll();
  addEventListener('scroll', () => requestAnimationFrame(updateScroll), {
    passive: true,
  });
</script>
